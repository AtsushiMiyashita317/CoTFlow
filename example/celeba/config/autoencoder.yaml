# @package _global_
hydra:
  run:
    dir: ./results/${now:%Y-%m-%d_%H-%M-%S}

# データセットと出力パス
repository_root: null
exp_name: celeba_autoencoder

seed: 42
resume: null

# データセット
train:
  dataset: 
    name: DatasetCelebA
    args:
      path: ${repository_root}/dataset
      split: 'train'
      image_size: [218, 178]
  batch_size: 128
  num_workers: 4
val:
  dataset: 
    name: DatasetCelebA
    args:
      path: ${repository_root}/dataset
      split: 'valid'
      image_size: [218, 178]
  batch_size: 128
  num_workers: 4

# モデル
model:
  name: Autoencoder2D
  args:
    input_shape: [3, 218, 178]
    base_kernel_size: 4
    stride: 2
    channel_multiplier: 2
    num_layers: 5

loss_fn: mse

optimizer:
  lr: 1e-3
  weight_decay: 1e-5

# 学習
trainer:
  max_epochs: 100
  gpus: 1
  precision: 32
  log_every_n_steps: 10
  val_check_interval: 1.0

# wandb
wandb:
  project: cotflow_celeba
  name: ${exp_name}
